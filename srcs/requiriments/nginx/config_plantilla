http{

	//include mime.types; - incluye fichero con tipos definidos
	types{
		text/css	css; // tipo - extension
		text/html	html;
	}
	upstream backendserver{
		server 127.0.0.1:puerto;
		//repetir para cada puerto
	}
	server{
		listen 8080; //puerto al que escuchar 80 por defecto
		root carpeta; // directorio con ficheros a enviar al puerto
		location / { // hacer load balancer
			proxy_pass http://backendserver/;
		}

		location	/nombre //directorio a hitear
		{
			root carpeta; // sin directorio a hitear, lo concatena con arg de location
		}
		location /nombre2
		{
			alias directorio completo;	
		}
		location /nombre3
		{
			root directorio;
			try_files /dir/fichero /dir/fichero2 =404 // intenta acceder a ficheros
			//si no encuentra, devuelve error específico
		}
		location ~*/nombre4/[0-9]
		{ //pasar como argumento una expresión regular
			root directorio;
			try_files /dir/fichero =404;
		}
		location /nombre5 // redirigir a otro directorio
		{
			return 307 /otrodir // 307 es un código http
		}
		rewrite ^/dir/(\w) /dir2/$indice // reescribe un fichero de un dir al de otro
}

events
{

}
